!function(){"use strict";var t="undefined"==typeof global?self:global;if("function"!=typeof t.require){var e={},n={},i={},o={}.hasOwnProperty,r=/^\.\.?(\/|$)/,s=function(t,e){for(var n,i=[],o=(r.test(e)?t+"/"+e:e).split("/"),s=0,a=o.length;s<a;s++)n=o[s],".."===n?i.pop():"."!==n&&""!==n&&i.push(n);return i.join("/")},a=function(t){return t.split("/").slice(0,-1).join("/")},u=function(e){return function(n){var i=s(a(e),n);return t.require(i,e)}},c=function(t,e){var i=g&&g.createHot(t),o={id:t,exports:{},hot:i};return n[t]=o,e(o.exports,u(t),o),o.exports},d=function(t){return i[t]?d(i[t]):t},h=function(t,e){return d(s(a(t),e))},l=function(t,i){null==i&&(i="/");var r=d(t);if(o.call(n,r))return n[r].exports;if(o.call(e,r))return c(r,e[r]);throw new Error("Cannot find module '"+t+"' from '"+i+"'")};l.alias=function(t,e){i[e]=t};var f=/\.[^.\/]+$/,x=/\/index(\.[^\/]+)?$/,y=function(t){if(f.test(t)){var e=t.replace(f,"");o.call(i,e)&&i[e].replace(f,"")!==e+"/index"||(i[e]=t)}if(x.test(t)){var n=t.replace(x,"");o.call(i,n)||(i[n]=t)}};l.register=l.define=function(t,i){if(t&&"object"==typeof t)for(var r in t)o.call(t,r)&&l.register(r,t[r]);else e[t]=i,delete n[t],y(t)},l.list=function(){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t};var g=t._hmr&&new t._hmr(h,l,e,n);l._cache=n,l.hmr=g&&g.wrap,l.brunch=!0,t.require=l}}(),function(){"undefined"==typeof window?this:window;require.register("config.js",function(t,e,n){"use strict";var i=10,o=40,r=10,s=25,a=8,u=2e-5,c=1,d=50,h=25e3,l=1e4,f=1,x=r/i*f;n.exports={metre:i,numOfNodes:o,nominalStringLength:r,springConstant:s,internalViscousFrictionConstant:a,viscousConstant:u,simulationSpeed:c,maxStep:d,dangerForceMax:h,dangerForceMin:l,ropeWeightPerMetre:f,ropeWeightPerNode:x}}),require.register("helper.js",function(t,e,n){"use strict";function i(t,e){return e.find(function(e){return e.id===t})}function o(t,e){var n=Math.abs(t.position.x-e.position.x),i=Math.abs(t.position.y-e.position.y);return Math.sqrt(n*n+i*i)}function r(t,e){return{x:(t.position.x+e.position.x)/2,y:(t.position.y+e.position.y)/2}}function s(t,e){return Math.atan2(e.position.y-t.position.y,e.position.x-t.position.x)}function a(t,e){var n=o(t,e),i=n-u.nominalStringLength,r=s(t,e),a=Math.sin(r)*i*u.springConstant,c=Math.cos(r)*i*u.springConstant,d=Math.sqrt(a*a+(c+c));return{total:d,x:c,y:a}}var u=e("config");n.exports={getAngleFromHorizontal:s,getForce:a,getLength:o,getMidpoint:r,getNode:i}}),require.register("vector.js",function(t,e,n){"use strict";function i(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}i.prototype={load:function(t){return new i(t.x||0,t.y||0,t.z||0)},negative:function(){return new i((-this.x),(-this.y),(-this.z))},add:function(t){return t instanceof i?new i(this.x+t.x,this.y+t.y,this.z+t.z):new i(this.x+t,this.y+t,this.z+t)},subtract:function(t){return t instanceof i?new i(this.x-t.x,this.y-t.y,this.z-t.z):new i(this.x-t,this.y-t,this.z-t)},multiply:function(t){return t instanceof i?new i(this.x*t.x,this.y*t.y,this.z*t.z):new i(this.x*t,this.y*t,this.z*t)},divide:function(t){return t instanceof i?new i(this.x/t.x,this.y/t.y,this.z/t.z):new i(this.x/t,this.y/t,this.z/t)},equals:function(t){return this.x==t.x&&this.y==t.y&&this.z==t.z},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},cross:function(t){return new i(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},length:function(){return Math.sqrt(this.dot(this))},unit:function(){return this.divide(this.length())},min:function(){return Math.min(Math.min(this.x,this.y),this.z)},max:function(){return Math.max(Math.max(this.x,this.y),this.z)},toAngles:function(){return{theta:Math.atan2(this.z,this.x),phi:Math.asin(this.y/this.length())}},angleTo:function(t){return Math.acos(this.dot(t)/(this.length()*t.length()))},toArray:function(t){return[this.x,this.y,this.z].slice(0,t||3)},clone:function(){return new i(this.x,this.y,this.z)},init:function(t,e,n){return this.x=t,this.y=e,this.z=n,this}},i.negative=function(t,e){return e.x=-t.x,e.y=-t.y,e.z=-t.z,e},i.add=function(t,e,n){return n=n?n:new i,e instanceof i?(n.x=t.x+e.x,n.y=t.y+e.y,n.z=t.z+e.z):(n.x=t.x+e,n.y=t.y+e,n.z=t.z+e),n},i.subtract=function(t,e,n){return n=n?n:new i,e instanceof i?(n.x=t.x-e.x,n.y=t.y-e.y,n.z=t.z-e.z):(n.x=t.x-e,n.y=t.y-e,n.z=t.z-e),n},i.multiply=function(t,e,n){return n=n?n:new i,e instanceof i?(n.x=t.x*e.x,n.y=t.y*e.y,n.z=t.z*e.z):(n.x=t.x*e,n.y=t.y*e,n.z=t.z*e),n},i.divide=function(t,e,n){return e instanceof i?(n.x=t.x/e.x,n.y=t.y/e.y,n.z=t.z/e.z):(n.x=t.x/e,n.y=t.y/e,n.z=t.z/e),n},i.cross=function(t,e,n){return n.x=t.y*e.z-t.z*e.y,n.y=t.z*e.x-t.x*e.z,n.z=t.x*e.y-t.y*e.x,n},i.unit=function(t,e){var n=t.length();return e.x=t.x/n,e.y=t.y/n,e.z=t.z/n,e},i.fromAngles=function(t,e){return new i(Math.cos(t)*Math.cos(e),Math.sin(e),Math.sin(t)*Math.cos(e))},i.randomDirection=function(){return i.fromAngles(Math.random()*Math.PI*2,Math.asin(2*Math.random()-1))},i.min=function(t,e){return new i(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.min(t.z,e.z))},i.max=function(t,e){return new i(Math.max(t.x,e.x),Math.max(t.y,e.y),Math.max(t.z,e.z))},i.lerp=function(t,e,n){return e.subtract(t).multiply(n).add(t)},i.fromArray=function(t){return new i(t[0],t[1],t[2])},i.angleBetween=function(t,e){return t.angleTo(e)},n.exports={Vector:i}}),require.register("front.js",function(t,e,n){"use strict";var i=e("helper"),o=e("config"),r=e("vector").Vector;document.addEventListener("DOMContentLoaded",function(){function t(){simSpeeds.pop(),simSpeeds.unshift(d);var t=simSpeeds.reduce(function(t,e){return t+e},0);document.getElementById("simspeed").innerText=(t/simSpeeds.length).toFixed(2)+"x"}function e(){function t(t,e){if(u.beginPath(),u.fillRect(t.position.x-1,t.position.y-1,3,3),showIDs&&u.fillText(t.id,t.position.x+1,t.position.y),u.stroke(),drawn.indexOf(e.toString()+t.id.toString())<0){u.beginPath();var n=i.getNode(e,c);u.moveTo(n.position.x,n.position.y),u.lineTo(t.position.x,t.position.y),drawn.push(t.id.toString()+n.id.toString());var r=i.getForce(t,n);r.total>=o.dangerForceMin&&r.total<o.dangerForceMax?(normForce=(r.total-o.dangerForceMin)/(o.dangerForceMax-o.dangerForceMin),color=255*normForce,u.strokeStyle="rgb("+color.toFixed(0)+", 0, 0)"):r.total>=o.dangerForceMax?u.strokeStyle="rgb(255, 0, 0)":u.strokeStyle="rgb(0,0,0)",u.stroke()}}u.strokeStyle="rgb(0,0,0)",u.clearRect(0,0,a.width,a.height),u.beginPath(),u.moveTo(10,50),u.lineTo(10,50+10*o.metre),u.fillText("10m",11,50+10*o.metre/2),u.stroke(),drawn=[],c.forEach(function(e){e.connectedNodes.length<=0&&(u.beginPath(),u.fillRect(e.position.x-1,e.position.y-1,3,3),showIDs&&u.fillText(e.id,e.position.x+1,e.position.y),u.stroke()),e.connectedNodes.forEach(t.bind(this,e))})}function n(){function t(t,n){if(parseInt(document.getElementById("to").value)===n){e=!0;var o=i.getNode(n,c),r=i.getForce(t,o);document.getElementById("result").innerText=r.total.toFixed(3)+"N"}}var e=!1;c.forEach(function(e){parseInt(document.getElementById("from").value)===e.id&&e.connectedNodes.forEach(t.bind(this,e))}),e||(document.getElementById("result").innerText="Not connected")}function s(t){l&&h.postMessage(["move",{selectedNode:l,mousePosition:f}]),h.postMessage("send"),requestAnimationFrame(s)}var a=document.getElementById("canvas"),u=a.getContext("2d"),c=[],d=0,h=new Worker("worker.js");h.onmessage=function(i){c=i.data.nodes,d=i.data.trueSimulationSpeed,e(),n(),t()},h.postMessage("init"),document.getElementById("start").addEventListener("click",function(){userPause=!1,h.postMessage("run")}),userPause=!1,document.getElementById("stop").addEventListener("click",function(){userPause=!0,h.postMessage("pause")}),showIDs=!0,document.getElementById("show-ids").addEventListener("click",function(){showIDs=document.getElementById("show-ids").checked}),document.getElementById("load").addEventListener("click",function(){var t=document.getElementById("load-data").value;h.postMessage(["load",t])}),document.getElementById("save").addEventListener("click",function(){document.getElementById("save-data").value=btoa(JSON.stringify(c))});var l,f;a.addEventListener("mousedown",function(t){for(var e,n=a.getBoundingClientRect(),i={x:t.clientX-n.left,y:t.clientY-n.top},o=new r(i.x,i.y),s=20,u=0;u<c.length;u++){c[u].position=(new r).load(c[u].position);var d=c[u].position.subtract(o).length();(!s||d<s)&&(e=c[u],s=d)}f=o,e?l=e:h.postMessage(["newnode",{mousePosition:f}])},!0),a.addEventListener("mousemove",function(t){if(l){var e=a.getBoundingClientRect(),n={x:t.clientX-e.left,y:t.clientY-e.top};f=new r(n.x,n.y)}},!0),a.addEventListener("mouseup",function(t){l&&(h.postMessage(["nomove",{selectedNode:l}]),l=void 0)},!0),simSpeeds=new Array(100),simSpeeds.fill(o.simulationSpeed),requestAnimationFrame(s),h.postMessage("run")})}),require.register("___globals___",function(t,e,n){})}(),require("___globals___");