!function(){"use strict";var t="undefined"==typeof global?self:global;if("function"!=typeof t.require){var e={},n={},o={},r={}.hasOwnProperty,s=/^\.\.?(\/|$)/,a=function(t,e){for(var n,o=[],r=(s.test(e)?t+"/"+e:e).split("/"),a=0,i=r.length;a<i;a++)n=r[a],".."===n?o.pop():"."!==n&&""!==n&&o.push(n);return o.join("/")},i=function(t){return t.split("/").slice(0,-1).join("/")},c=function(e){return function(n){var o=a(i(e),n);return t.require(o,e)}},l=function(t,e){var o=v&&v.createHot(t),r={id:t,exports:{},hot:o};return n[t]=r,e(r.exports,c(t),r),r.exports},u=function(t){return o[t]?u(o[t]):t},d=function(t,e){return u(a(i(t),e))},p=function(t,o){null==o&&(o="/");var s=u(t);if(r.call(n,s))return n[s].exports;if(r.call(e,s))return l(s,e[s]);throw new Error("Cannot find module '"+t+"' from '"+o+"'")};p.alias=function(t,e){o[e]=t};var f=/\.[^.\/]+$/,h=/\/index(\.[^\/]+)?$/,m=function(t){if(f.test(t)){var e=t.replace(f,"");r.call(o,e)&&o[e].replace(f,"")!==e+"/index"||(o[e]=t)}if(h.test(t)){var n=t.replace(h,"");r.call(o,n)||(o[n]=t)}};p.register=p.define=function(t,o){if(t&&"object"==typeof t)for(var s in t)r.call(t,s)&&p.register(s,t[s]);else e[t]=o,delete n[t],m(t)},p.list=function(){var t=[];for(var n in e)r.call(e,n)&&t.push(n);return t};var v=t._hmr&&new t._hmr(d,p,e,n);p._cache=n,p.hmr=v&&v.wrap,p.brunch=!0,t.require=p}}(),function(){var t=("undefined"==typeof window?this:window,function(t,e,n){var o={},r=function(e,n){var s;try{return s=t(n+"/node_modules/"+e)}catch(a){if(a.toString().indexOf("Cannot find module")===-1)throw a;if(n.indexOf("node_modules")!==-1){var i=n.split("/"),c=i.lastIndexOf("node_modules"),l=i.slice(0,c).join("/");return r(e,l)}}return o};return function(s){if(s in e&&(s=e[s]),s){if("."!==s[0]&&n){var a=r(s,n);if(a!==o)return a}return t(s)}}});require.register("preact/dist/preact.js",function(e,n,o){n=t(n,{},"preact"),function(){!function(){"use strict";function t(){}function e(e,n){var o,r,s,a,i=T;for(a=arguments.length;a-- >2;)z.push(arguments[a]);for(n&&null!=n.children&&(z.length||z.push(n.children),delete n.children);z.length;)if((r=z.pop())&&void 0!==r.pop)for(a=r.length;a--;)z.push(r[a]);else"boolean"==typeof r&&(r=null),(s="function"!=typeof e)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(s=!1)),s&&o?i[i.length-1]+=r:i===T?i=[r]:i.push(r),o=s;var c=new t;return c.nodeName=e,c.children=i,c.attributes=null==n?void 0:n,c.key=null==n?void 0:n.key,void 0!==E.vnode&&E.vnode(c),c}function n(t,e){for(var n in e)t[n]=e[n];return t}function r(t,o){return e(t.nodeName,n(n({},t.attributes),o),arguments.length>2?[].slice.call(arguments,2):t.children)}function s(t){!t.__d&&(t.__d=!0)&&1==I.push(t)&&(E.debounceRendering||D)(a)}function a(){var t,e=I;for(I=[];t=e.pop();)t.__d&&k(t)}function i(t,e,n){return"string"==typeof e||"number"==typeof e?void 0!==t.splitText:"string"==typeof e.nodeName?!t._componentConstructor&&c(t,e.nodeName):n||t._componentConstructor===e.nodeName}function c(t,e){return t.__n===e||t.nodeName.toLowerCase()===e.toLowerCase()}function l(t){var e=n({},t.attributes);e.children=t.children;var o=t.nodeName.defaultProps;if(void 0!==o)for(var r in o)void 0===e[r]&&(e[r]=o[r]);return e}function u(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.__n=t,n}function d(t){var e=t.parentNode;e&&e.removeChild(t)}function p(t,e,n,o,r){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)n&&n(null),o&&o(t);else if("class"!==e||r)if("style"===e){if(o&&"string"!=typeof o&&"string"!=typeof n||(t.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var s in n)s in o||(t.style[s]="");for(var s in o)t.style[s]="number"==typeof o[s]&&!1===V.test(s)?o[s]+"px":o[s]}}else if("dangerouslySetInnerHTML"===e)o&&(t.innerHTML=o.__html||"");else if("o"==e[0]&&"n"==e[1]){var a=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),o?n||t.addEventListener(e,h,a):t.removeEventListener(e,h,a),(t.__l||(t.__l={}))[e]=o}else if("list"!==e&&"type"!==e&&!r&&e in t)f(t,e,null==o?"":o),null!=o&&!1!==o||t.removeAttribute(e);else{var i=r&&e!==(e=e.replace(/^xlink\:?/,""));null==o||!1===o?i?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof o&&(i?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),o):t.setAttribute(e,o))}else t.className=o||""}function f(t,e,n){try{t[e]=n}catch(o){}}function h(t){return this.__l[t.type](E.event&&E.event(t)||t)}function m(){for(var t;t=q.pop();)E.afterMount&&E.afterMount(t),t.componentDidMount&&t.componentDidMount()}function v(t,e,n,o,r,s){L++||(R=null!=r&&void 0!==r.ownerSVGElement,F=null!=t&&!("__preactattr_"in t));var a=y(t,e,n,o,s);return r&&a.parentNode!==r&&r.appendChild(a),--L||(F=!1,s||m()),a}function y(t,e,n,o,r){var s=t,a=R;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||r)?t.nodeValue!=e&&(t.nodeValue=e):(s=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(s,t),b(t,!0))),s.__preactattr_=!0,s;var i=e.nodeName;if("function"==typeof i)return N(t,e,n,o);if(R="svg"===i||"foreignObject"!==i&&R,i=String(i),(!t||!c(t,i))&&(s=u(i,R),t)){for(;t.firstChild;)s.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(s,t),b(t,!0)}var l=s.firstChild,d=s.__preactattr_,p=e.children;if(null==d){d=s.__preactattr_={};for(var f=s.attributes,h=f.length;h--;)d[f[h].name]=f[h].value}return!F&&p&&1===p.length&&"string"==typeof p[0]&&null!=l&&void 0!==l.splitText&&null==l.nextSibling?l.nodeValue!=p[0]&&(l.nodeValue=p[0]):(p&&p.length||null!=l)&&g(s,p,n,o,F||null!=d.dangerouslySetInnerHTML),w(s,e.attributes,d),R=a,s}function g(t,e,n,o,r){var s,a,c,l,u,p=t.childNodes,f=[],h={},m=0,v=0,g=p.length,_=0,w=e?e.length:0;if(0!==g)for(var x=0;x<g;x++){var C=p[x],S=C.__preactattr_,j=w&&S?C._component?C._component.__k:S.key:null;null!=j?(m++,h[j]=C):(S||(void 0!==C.splitText?!r||C.nodeValue.trim():r))&&(f[_++]=C)}if(0!==w)for(var x=0;x<w;x++){l=e[x],u=null;var j=l.key;if(null!=j)m&&void 0!==h[j]&&(u=h[j],h[j]=void 0,m--);else if(!u&&v<_)for(s=v;s<_;s++)if(void 0!==f[s]&&i(a=f[s],l,r)){u=a,f[s]=void 0,s===_-1&&_--,s===v&&v++;break}u=y(u,l,n,o),c=p[x],u&&u!==t&&u!==c&&(null==c?t.appendChild(u):u===c.nextSibling?d(c):t.insertBefore(u,c))}if(m)for(var x in h)void 0!==h[x]&&b(h[x],!1);for(;v<=_;)void 0!==(u=f[_--])&&b(u,!1)}function b(t,e){var n=t._component;n?M(n):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),!1!==e&&null!=t.__preactattr_||d(t),_(t))}function _(t){for(t=t.lastChild;t;){var e=t.previousSibling;b(t,!0),t=e}}function w(t,e,n){var o;for(o in n)e&&null!=e[o]||null==n[o]||p(t,o,n[o],n[o]=void 0,R);for(o in e)"children"===o||"innerHTML"===o||o in n&&e[o]===("value"===o||"checked"===o?t[o]:n[o])||p(t,o,n[o],n[o]=e[o],R)}function x(t){var e=t.constructor.name;(U[e]||(U[e]=[])).push(t)}function C(t,e,n){var o,r=U[t.name];if(t.prototype&&t.prototype.render?(o=new t(e,n),O.call(o,e,n)):(o=new O(e,n),o.constructor=t,o.render=S),r)for(var s=r.length;s--;)if(r[s].constructor===t){o.__b=r[s].__b,r.splice(s,1);break}return o}function S(t,e,n){return this.constructor(t,n)}function j(t,e,n,o,r){t.__x||(t.__x=!0,(t.__r=e.ref)&&delete e.ref,(t.__k=e.key)&&delete e.key,!t.base||r?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,o),o&&o!==t.context&&(t.__c||(t.__c=t.context),t.context=o),t.__p||(t.__p=t.props),t.props=e,t.__x=!1,0!==n&&(1!==n&&!1===E.syncComponentUpdates&&t.base?s(t):k(t,1,r)),t.__r&&t.__r(t))}function k(t,e,o,r){if(!t.__x){var s,a,i,c=t.props,u=t.state,d=t.context,p=t.__p||c,f=t.__s||u,h=t.__c||d,y=t.base,g=t.__b,_=y||g,w=t._component,x=!1;if(y&&(t.props=p,t.state=f,t.context=h,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(c,u,d)?x=!0:t.componentWillUpdate&&t.componentWillUpdate(c,u,d),t.props=c,t.state=u,t.context=d),t.__p=t.__s=t.__c=t.__b=null,t.__d=!1,!x){s=t.render(c,u,d),t.getChildContext&&(d=n(n({},d),t.getChildContext()));var S,N,O=s&&s.nodeName;if("function"==typeof O){var P=l(s);a=w,a&&a.constructor===O&&P.key==a.__k?j(a,P,1,d,!1):(S=a,t._component=a=C(O,P,d),a.__b=a.__b||g,a.__u=t,j(a,P,0,d,!1),k(a,1,o,!0)),N=a.base}else i=_,S=w,S&&(i=t._component=null),(_||1===e)&&(i&&(i._component=null),N=v(i,s,d,o||!y,_&&_.parentNode,!0));if(_&&N!==_&&a!==w){var z=_.parentNode;z&&N!==z&&(z.replaceChild(N,_),S||(_._component=null,b(_,!1)))}if(S&&M(S),t.base=N,N&&!r){for(var T=t,D=t;D=D.__u;)(T=D).base=N;N._component=T,N._componentConstructor=T.constructor}}if(!y||o?q.unshift(t):x||(t.componentDidUpdate&&t.componentDidUpdate(p,f,h),E.afterUpdate&&E.afterUpdate(t)),null!=t.__h)for(;t.__h.length;)t.__h.pop().call(t);L||r||m()}}function N(t,e,n,o){for(var r=t&&t._component,s=r,a=t,i=r&&t._componentConstructor===e.nodeName,c=i,u=l(e);r&&!c&&(r=r.__u);)c=r.constructor===e.nodeName;return r&&c&&(!o||r._component)?(j(r,u,3,n,o),t=r.base):(s&&!i&&(M(s),t=a=null),r=C(e.nodeName,u,n),t&&!r.__b&&(r.__b=t,a=null),j(r,u,1,n,o),t=r.base,a&&t!==a&&(a._component=null,b(a,!1))),t}function M(t){E.beforeUnmount&&E.beforeUnmount(t);var e=t.base;t.__x=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?M(n):e&&(e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),t.__b=e,d(e),x(t),_(e)),t.__r&&t.__r(null)}function O(t,e){this.__d=!0,this.context=e,this.props=t,this.state=this.state||{}}function P(t,e,n){return v(n,t,{},!1,e,!1)}var E={},z=[],T=[],D="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,V=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,I=[],q=[],L=0,R=!1,F=!1,U={};n(O.prototype,{setState:function(t,e){var o=this.state;this.__s||(this.__s=n({},o)),n(o,"function"==typeof t?t(o,this.props):t),e&&(this.__h=this.__h||[]).push(e),s(this)},forceUpdate:function(t){t&&(this.__h=this.__h||[]).push(t),k(this,2)},render:function(){}});var A={h:e,createElement:e,cloneElement:r,Component:O,render:P,rerender:a,options:E};"undefined"!=typeof o?o.exports=A:self.preact=A}()}()}),require.register("js/shared/config.js",function(t,e,n){"use strict";var o=10,r=40,s=10,a=25,i=8,c=2e-5,l=4,u=50,d=150,p=0,f=1,h=s/o*f;n.exports={metre:o,numOfNodes:r,nominalStringLength:s,springConstant:a,internalViscousFrictionConstant:i,viscousConstant:c,simulationSpeed:l,maxStep:u,dangerForceMax:d,dangerForceMin:p,ropeWeightPerMetre:f,ropeWeightPerNode:h}}),require.register("js/shared/constants.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ControlsEnum=Object.freeze({pan:"pan",grab:"grab",anchor:"anchor",erase:"erase",rope:"rope",pause:"pause"})}),require.register("js/shared/helper.js",function(t,e,n){"use strict";function o(t,e){return e.find(function(e){return e.id===t})}function r(t,e){var n=Math.abs(t.position.x-e.position.x),o=Math.abs(t.position.y-e.position.y);return Math.sqrt(n*n+o*o)}function s(t,e){return{x:(t.position.x+e.position.x)/2,y:(t.position.y+e.position.y)/2}}function a(t,e){return Math.atan2(e.position.y-t.position.y,e.position.x-t.position.x)}function i(t,e){var n=r(t,e),o=n-c.nominalStringLength,s=a(t,e),i=Math.sin(s)*o*c.springConstant,l=Math.cos(s)*o*c.springConstant,u=Math.sqrt(i*i+(l+l));return{total:u,x:l,y:i}}var c=e("js/shared/config");n.exports={getAngleFromHorizontal:a,getForce:i,getLength:r,getMidpoint:s,getNode:o}}),require.register("js/shared/node.js",function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(){return i+=1}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=e("js/shared/vector").Vector,i=-1,c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],p=arguments[8];o(this,t),this.id=p?p:r(),this.position=new a(e,n),this.velocity=new a(s,i),this.force=new a(c,l),this.fixed=u,this.connectedNodes=d}return s(t,[{key:"getObject",value:function(){return{id:this.id,position:this.position,velocity:this.velocity,force:this.force,fixed:this.fixed,connectedNodes:this.connectedNodes}}},{key:"loadObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.id=t.id?t.id:this.id,this.position=t.position||this.position,this.velocity=t.velocity||this.velocity,this.force=t.force||this.force,this.fixed=t.fixed||this.fixed,this.connectedNodes=t.connectedNodes||this.connectedNodes}},{key:"copyNode",value:function(){return new t(this.position.x,this.position.y,this.velocity.x,this.velocity.y,this.force.x,this.force.y,this.fixed,this.connectedNodes,this.id)}}]),t}();n.exports={Node:c}}),require.register("js/shared/vector.js",function(t,e,n){"use strict";function o(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}o.prototype={load:function(t){return new o(t.x||0,t.y||0,t.z||0)},negative:function(){return new o((-this.x),(-this.y),(-this.z))},add:function(t){return t instanceof o?new o(this.x+t.x,this.y+t.y,this.z+t.z):new o(this.x+t,this.y+t,this.z+t)},subtract:function(t){return t instanceof o?new o(this.x-t.x,this.y-t.y,this.z-t.z):new o(this.x-t,this.y-t,this.z-t)},multiply:function(t){return t instanceof o?new o(this.x*t.x,this.y*t.y,this.z*t.z):new o(this.x*t,this.y*t,this.z*t)},divide:function(t){return t instanceof o?new o(this.x/t.x,this.y/t.y,this.z/t.z):new o(this.x/t,this.y/t,this.z/t)},equals:function(t){return this.x==t.x&&this.y==t.y&&this.z==t.z},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},cross:function(t){return new o(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},length:function(){return Math.sqrt(this.dot(this))},unit:function(){return this.divide(this.length())},min:function(){return Math.min(Math.min(this.x,this.y),this.z)},max:function(){return Math.max(Math.max(this.x,this.y),this.z)},toAngles:function(){return{theta:Math.atan2(this.z,this.x),phi:Math.asin(this.y/this.length())}},angleTo:function(t){return Math.acos(this.dot(t)/(this.length()*t.length()))},toArray:function(t){return[this.x,this.y,this.z].slice(0,t||3)},clone:function(){return new o(this.x,this.y,this.z)},init:function(t,e,n){return this.x=t,this.y=e,this.z=n,this}},o.negative=function(t,e){return e.x=-t.x,e.y=-t.y,e.z=-t.z,e},o.add=function(t,e,n){return n=n?n:new o,e instanceof o?(n.x=t.x+e.x,n.y=t.y+e.y,n.z=t.z+e.z):(n.x=t.x+e,n.y=t.y+e,n.z=t.z+e),n},o.subtract=function(t,e,n){return n=n?n:new o,e instanceof o?(n.x=t.x-e.x,n.y=t.y-e.y,n.z=t.z-e.z):(n.x=t.x-e,n.y=t.y-e,n.z=t.z-e),n},o.multiply=function(t,e,n){return n=n?n:new o,e instanceof o?(n.x=t.x*e.x,n.y=t.y*e.y,n.z=t.z*e.z):(n.x=t.x*e,n.y=t.y*e,n.z=t.z*e),n},o.divide=function(t,e,n){return e instanceof o?(n.x=t.x/e.x,n.y=t.y/e.y,n.z=t.z/e.z):(n.x=t.x/e,n.y=t.y/e,n.z=t.z/e),n},o.cross=function(t,e,n){return n.x=t.y*e.z-t.z*e.y,n.y=t.z*e.x-t.x*e.z,n.z=t.x*e.y-t.y*e.x,n},o.unit=function(t,e){var n=t.length();return e.x=t.x/n,e.y=t.y/n,e.z=t.z/n,e},o.fromAngles=function(t,e){return new o(Math.cos(t)*Math.cos(e),Math.sin(e),Math.sin(t)*Math.cos(e))},o.randomDirection=function(){return o.fromAngles(Math.random()*Math.PI*2,Math.asin(2*Math.random()-1))},o.min=function(t,e){return new o(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.min(t.z,e.z))},o.max=function(t,e){return new o(Math.max(t.x,e.x),Math.max(t.y,e.y),Math.max(t.z,e.z))},o.lerp=function(t,e,n){return e.subtract(t).multiply(n).add(t)},o.fromArray=function(t){return new o(t[0],t[1],t[2])},o.angleBetween=function(t,e){return t.angleTo(e)},n.exports={Vector:o}}),require.register("js/initialise.js",function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}var r=e("preact"),s=e("./ui/components/App"),a=o(s);document.addEventListener("DOMContentLoaded",function(){(0,r.render)((0,r.h)(a["default"],null),document.querySelector("#app"))})}),require.register("js/ui/components/App.js",function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),l=e("preact"),u=e("js/ui/components/canvas/canvas"),d=r(u),p=e("js/ui/components/controls/controls"),f=r(p),h=e("js/ui/components/stats/stats"),m=r(h),v=e("js/ui/components/save-modal/save-modal"),y=r(v),g=e("js/ui/components/load-modal/load-modal"),b=r(g),_=e("js/shared/constants.js"),w=e("js/shared/config"),x=(o(w),function(t){function e(t){s(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.onFrame=function(){n.state.worker.postMessage("send"),requestAnimationFrame(n.onFrame)},n.handleWorker=function(t){n.setState({nodes:t.data.nodes,trueSimulationSpeed:t.data.trueSimulationSpeed})},n.changeControl=function(t){n.setState({selectedControl:t})},n.changeScale=function(t){var e=n.state.scale;!t&&e<=1||t&&e<1?(t?e+=.1:e-=.1,e=Math.round(10*e)/10):t?e+=1:e-=1,e<=0||n.setState({scale:e})},n.changeOption=function(t,e){var o=n.state.options;o[t]=e,n.setState({options:o})},n.save=function(){n.setState({saveData:btoa(JSON.stringify(n.state.nodes)),saveModalVisible:!0})};var o=new Worker("worker.js");return o.onmessage=n.handleWorker,o.postMessage("init"),n.state={worker:o,nodes:[],selectedControl:_.ControlsEnum.pan,scale:1,options:{showIDs:!1},saveData:null,saveModalVisible:!1,loadModalVisible:!1},n}return i(e,t),c(e,[{key:"componentDidMount",value:function(){requestAnimationFrame(this.onFrame),this.state.worker.postMessage("run")}},{key:"render",value:function(){var t=this;return(0,l.h)("main",null,(0,l.h)(d["default"],{options:this.state.options,nodes:this.state.nodes,worker:this.state.worker,selectedControl:this.state.selectedControl,scale:this.state.scale}),(0,l.h)(f["default"],{worker:this.state.worker,selectedControl:this.state.selectedControl,changeControl:this.changeControl,changeScale:this.changeScale,scale:this.state.scale,options:this.state.options,changeOption:this.changeOption,save:this.save,load:function(){return t.setState({loadModalVisible:!0})}}),(0,l.h)(m["default"],{trueSimulationSpeed:this.state.trueSimulationSpeed}),(0,l.h)(y["default"],{visible:this.state.saveModalVisible,saveData:this.state.saveData,close:function(){return t.setState({saveModalVisible:!1})}}),(0,l.h)(b["default"],{visible:this.state.loadModalVisible,worker:this.state.worker,close:function(){return t.setState({loadModalVisible:!1})}}))}}]),e}(l.Component));t["default"]=x}),require.register("js/ui/components/canvas/canvas.js",function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=e("preact"),l=e("js/shared/config"),u=o(l),d=e("js/shared/helper"),p=o(d),f=e("js/shared/vector"),h=e("js/shared/node"),m=e("js/shared/constants"),v=function(t){function e(t){r(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.getUniqueID=function(){for(var t=0,e=!0;e;){if(!n.props.nodes.find(function(e){return e.id===t})&&!n.state.newNodes.find(function(e){return e.id===t}))return t;t++}},n.getMouseScreenPosition=function(t){var e=n.canvas.getBoundingClientRect();return t.type.includes("touch")?new f.Vector(t.touches[0].clientX-e.left,t.touches[0].clientY-e.top):new f.Vector(t.clientX-e.left,t.clientY-e.top)},n.getMouseCanvasPosition=function(t){var e=n.getMouseScreenPosition(t);return e.subtract(n.state.transform.translate).divide(n.state.transform.scale)},n.updateMousePosition=function(t){var e=n.getMouseCanvasPosition(t);n.setState({mousePosition:e})},n.getNearestNode=function(t,e,o){var r=n.getNearestNodes(t,e,o);return r.length>0?r[0]:null},n.getNearestNodes=function(t,e,n){var o=[];return n.forEach(function(n){var r=(new f.Vector).load(n.position),s=r.subtract(t).length();s<e&&o.push({node:n,distance:s})}),o.sort(function(t,e){return t.distance-e.distance}).map(function(t){return t.node})},n.setupInteractions=function(){var t=n.canvas;t.addEventListener("mousedown",n.handleInteractStart,!0),t.addEventListener("touchstart",function(t){n.updateMousePosition(t),n.handleInteractStart(t)},!0),t.addEventListener("mousemove",n.handleInteractMove,!0),t.addEventListener("touchmove",function(t){n.updateMousePosition(t),n.handleInteractMove(t)},!0),t.addEventListener("mouseup",n.handleInteractEnd,!0),t.addEventListener("touchend",function(t){n.handleInteractEnd(t)},!0)},n.handleInteractStart=function(t){t.preventDefault();var e=n.canvas,o=(e.getBoundingClientRect(),n.state.mousePosition);switch(n.setState({mousedown:!0}),n.props.selectedControl){case m.ControlsEnum.grab:var r=(n.state.hightlightNodeID,n.getNearestNode(o,20,n.props.nodes));n.setState({selectedNode:r});break;case m.ControlsEnum.pan:n.setState({startCoords:n.getMouseScreenPosition(t).subtract(n.state.transform.translate)});break;case m.ControlsEnum.anchor:n.props.worker.postMessage(["newanchor",{mousePosition:o}]);break;case m.ControlsEnum.erase:var s=n.getNearestNodes(o,5,n.props.nodes);s.forEach(function(t){n.props.worker.postMessage(["deletenode",{node:t}])});break;case m.ControlsEnum.rope:var a=new h.Node(o.x,o.y,0,0,0,0,(!1),[],n.getUniqueID()),i=n.getNearestNode(o,5,n.props.nodes);i&&(a.connectedNodes.push(i.id),i.connectedNodes.push(a.id)),n.setState({startCoords:new f.Vector(a.position.x,a.position.y),newNodes:[a]})}},n.handleInteractMove=function(t){t.preventDefault();var e=n.getMouseScreenPosition(t),o=n.getMouseCanvasPosition(t);switch(n.setState({mousePosition:o}),n.props.selectedControl){case m.ControlsEnum.grab:if(!n.state.mousedown){var r=n.getNearestNode(o,5,n.props.nodes);n.setState({hightlightNodeID:r?r.id:null})}break;case m.ControlsEnum.pan:n.state.mousedown&&n.setState({transform:{translate:new f.Vector(e.x,e.y).subtract(n.state.startCoords),scale:n.state.transform.scale}});break;case m.ControlsEnum.erase:if(n.state.mousedown){var s=n.getNearestNodes(o,5,n.props.nodes);s.forEach(function(t){n.props.worker.postMessage(["deletenode",{node:t}])})}else{var a=n.getNearestNode(o,5,n.props.nodes);n.setState({hightlightNodeID:a?a.id:null})}break;case m.ControlsEnum.rope:if(n.state.mousedown){var i=n.state.startCoords.subtract(o).length();if(i>u.nominalStringLength){var c=new h.Node(o.x,o.y,0,0,0,0,(!1),[],n.getUniqueID()),l=n.state.newNodes,d=l[l.length-1];d.connectedNodes.push(c.id),c.connectedNodes.push(d.id),l.push(c),n.setState({newNodes:l,startCoords:new f.Vector(o.x,o.y)})}}var p=n.getNearestNode(o,5,n.props.nodes);n.setState({hightlightNodeID:p?p.id:null})}},n.handleInteractEnd=function(t){t.preventDefault();var e=n.state.mousePosition;switch(n.setState({mousedown:!1}),n.props.selectedControl){case m.ControlsEnum.grab:n.state.selectedNode&&n.props.worker.postMessage(["nomove",{selectedNode:n.state.selectedNode}]),n.setState({selectedNode:null});break;case m.ControlsEnum.pan:n.setState({startCoords:null});break;case m.ControlsEnum.rope:var o=n.state.newNodes[n.state.newNodes.length-1],r=n.props.nodes,s=n.getNearestNode(e,5,r);s&&(o.connectedNodes.push(s.id),r=n.props.nodes.map(function(t){return t.id===s.id&&t.connectedNodes.push(o.id),t})),n.props.worker.postMessage(["addnodes",{nodes:n.state.newNodes}]),n.setState({newNodes:[],nodes:r.concat(n.state.newNodes)})}},n.draw=function(){if(n.state.transform.scale.x!==n.props.scale){var t=new f.Vector(n.canvas.width,n.canvas.height),e=new f.Vector(n.props.scale,n.props.scale),o=n.state.transform.scale.multiply(t),r=e.multiply(t),s=r.subtract(o).divide(2);n.setState({transform:{translate:n.state.transform.translate.subtract(s),scale:new f.Vector(n.props.scale,n.props.scale)}})}var a=n.props.options.showIDs,i=n.canvas.getContext("2d"),c=n.props.nodes;i.strokeStyle="rgb(0,0,0)",i.save(),i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,n.canvas.width,n.canvas.height),i.restore(),i.setTransform(n.state.transform.scale.x,0,0,n.state.transform.scale.y,n.state.transform.translate.x,n.state.transform.translate.y);for(var l=10*u.metre,d=n.state.transform.translate.x/n.state.transform.scale.x%l,h=n.state.transform.translate.y/n.state.transform.scale.y%l,v=0-2*l;v<n.canvas.width/n.state.transform.scale.x+l;v+=l)i.beginPath(),i.strokeStyle="#d0d0d0",i.moveTo(v-n.state.transform.translate.x/n.state.transform.scale.x+d,0-l-n.state.transform.translate.y/n.state.transform.scale.x+h),i.lineTo(v-n.state.transform.translate.x/n.state.transform.scale.x+d,n.canvas.height/n.state.transform.scale.x-n.state.transform.translate.y/n.state.transform.scale.x+h+l),i.stroke();for(var y=0-2*l;y<n.canvas.height/n.state.transform.scale.y+l;y+=l)i.beginPath(),i.strokeStyle="#d0d0d0",i.moveTo(0-l-n.state.transform.translate.x/n.state.transform.scale.y+d,y-n.state.transform.translate.y/n.state.transform.scale.y+h),i.lineTo(n.canvas.width/n.state.transform.scale.y-n.state.transform.translate.x/n.state.transform.scale.y+d+l,y-n.state.transform.translate.y/n.state.transform.scale.y+h),i.stroke();i.strokeStyle="rgb(0,0,0)",n.state.mousedown&&n.props.selectedControl===m.ControlsEnum.erase&&(i.beginPath(),i.arc(n.state.mousePosition.x,n.state.mousePosition.y,5,0,2*Math.PI),i.stroke()),i.beginPath(),i.moveTo(10,100),i.lineTo(10,100+10*u.metre),i.fillText("10m",11,100+10*u.metre/2),i.stroke();var g=[],b=function(t,e,o){if(i.beginPath(),t.id===n.state.hightlightNodeID&&(i.fillStyle="rgb(0, 255, 0)"),t.fixed?i.fillRect(t.position.x-2,t.position.y-2,5,5):i.fillRect(t.position.x-1,t.position.y-1,3,3),i.fillStyle="rgb(0, 0, 0)",a&&i.fillText(t.id,t.position.x+1,t.position.y),i.stroke(),g.indexOf(o.toString()+t.id.toString())<0){i.beginPath();var r=p.getNode(o,e);i.moveTo(r.position.x,r.position.y),i.lineTo(t.position.x,t.position.y),g.push(t.id.toString()+r.id.toString());var s=p.getForce(t,r);if(s.total>=u.dangerForceMin&&s.total<u.dangerForceMax){var c=(s.total-u.dangerForceMin)/(u.dangerForceMax-u.dangerForceMin),l=255*c;i.strokeStyle="rgb("+l.toFixed(0)+", 0, 0)"}else s.total>=u.dangerForceMax?i.strokeStyle="rgb(255, 0, 0)":i.strokeStyle="rgb(0,0,0)";i.stroke()}};c.concat(n.state.newNodes).forEach(function(t){t.connectedNodes.length<=0&&(i.beginPath(),t.id===n.state.hightlightNodeID&&(i.fillStyle="rgb(0, 255, 0)"),t.fixed?i.fillRect(t.position.x-2,t.position.y-2,5,5):i.fillRect(t.position.x-1,t.position.y-1,3,3),i.fillStyle="rgb(0, 0, 0)",a&&i.fillText(t.id,t.position.x+1,t.position.y),i.stroke()),t.connectedNodes.forEach(b.bind(n,t,c.concat(n.state.newNodes)))})},n.state={mousedown:!1,selectedNode:null,newNodes:[],mousePosition:new f.Vector(0,0),startCoords:new f.Vector(0,0),transform:{translate:new f.Vector(0,0),scale:new f.Vector(1,1)},hightlightNodeID:null},n}return a(e,t),i(e,[{key:"componentDidMount",value:function(){this.setupInteractions()}},{key:"componentWillReceiveProps",value:function(t){}},{key:"componentDidUpdate",value:function(){this.draw(),this.state.selectedNode&&this.props.worker.postMessage(["move",{selectedNode:this.state.selectedNode,mousePosition:this.state.mousePosition}])}},{key:"render",value:function(){var t=this;return(0,c.h)("canvas",{ref:function(e){return t.canvas=e},id:"canvas",width:window.innerWidth,height:window.innerHeight})}}]),e}(c.Component);t["default"]=v}),require.register("js/ui/components/controls/controls.js",function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=e("preact"),c=e("js/shared/constants.js"),l=function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={optionsVisible:!1,paused:!1},n}return s(e,t),a(e,[{key:"render",value:function(){var t=this;return(0,i.h)("div",{"class":"controls"},(0,i.h)("div",{"class":"buttons has-addons"},(0,i.h)("button",{"class":"button is-small "+(this.props.selectedControl==c.ControlsEnum.pan&&"is-primary"),onClick:function(){t.props.changeControl(c.ControlsEnum.pan)}},(0,i.h)("span",{"class":"icon"},(0,i.h)("i",{"class":"far fa-hand-paper"}))),(0,i.h)("button",{"class":"button is-small "+(this.props.selectedControl==c.ControlsEnum.grab&&"is-primary"),onClick:function(){t.props.changeControl(c.ControlsEnum.grab)}},(0,i.h)("span",{"class":"icon"},(0,i.h)("i",{"class":"far fa-hand-rock"}))),(0,i.h)("button",{"class":"button is-small "+(this.props.selectedControl==c.ControlsEnum.anchor&&"is-primary"),onClick:function(){t.props.changeControl(c.ControlsEnum.anchor)}},(0,i.h)("span",{"class":"icon"},(0,i.h)("i",{"class":"fas fa-plus"}))),(0,i.h)("button",{"class":"button is-small "+(this.props.selectedControl==c.ControlsEnum.rope&&"is-primary"),onClick:function(){t.props.changeControl(c.ControlsEnum.rope)}},(0,i.h)("span",{"class":"icon"},(0,i.h)("i",{"class":"fas fa-pencil-alt"}))),(0,i.h)("button",{"class":"button is-small "+(this.props.selectedControl==c.ControlsEnum.erase&&"is-primary"),onClick:function(){t.props.changeControl(c.ControlsEnum.erase)}},(0,i.h)("span",{"class":"icon"},(0,i.h)("i",{"class":"fas fa-eraser"
}))),(0,i.h)("button",{"class":"button is-small",onClick:function(){t.props.changeScale(!1)}},(0,i.h)("span",{"class":"icon"},"-")),(0,i.h)("button",{"class":"button is-small",disabled:!0},this.props.scale),(0,i.h)("button",{"class":"button is-small",onClick:function(){t.props.changeScale(!0)}},(0,i.h)("span",{"class":"icon"},"+")),(0,i.h)("button",{"class":"button is-small "+(this.props.selectedControl==c.ControlsEnum.pause&&"is-primary"),onClick:function(){t.props.worker.postMessage(t.state.paused?"run":"pause"),t.setState({paused:!t.state.paused})}},(0,i.h)("span",{"class":"icon"},(0,i.h)("i",{"class":"fas "+(this.state.paused?"fa-play":"fa-pause")}))),(0,i.h)("div",{"class":"dropdown "+(this.state.optionsVisible&&"is-active")},(0,i.h)("div",{"class":"dropdown-trigger"},(0,i.h)("button",{"class":"button is-small",onClick:function(){t.setState({optionsVisible:!t.state.optionsVisible})}},(0,i.h)("span",{"class":"icon is-small"},(0,i.h)("i",{"class":"fas fa-cog"}))," ",(0,i.h)("span",{"class":"icon is-small"},(0,i.h)("i",{"class":"fas fa-angle-down","aria-hidden":"true"})))),(0,i.h)("div",{"class":"dropdown-menu",id:"dropdown-menu2",role:"menu"},(0,i.h)("div",{"class":"dropdown-content"},(0,i.h)("div",{"class":"dropdown-item"},(0,i.h)("label",{"class":"checkbox"},(0,i.h)("input",{type:"checkbox",onChange:function(e){return t.props.changeOption("showIDs",e.target.checked)}}),"Show IDs")),(0,i.h)("a",{"class":"dropdown-item",onClick:this.props.save},"Save"),(0,i.h)("a",{"class":"dropdown-item",onClick:this.props.load},"Load"))))))}}]),e}(i.Component);t["default"]=l}),require.register("js/ui/components/load-modal/load-modal.js",function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=e("preact"),l=e("js/shared/config"),u=(o(l),function(t){function e(t){r(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.load=function(){n.props.worker.postMessage(["load",n.state.loadData]),n.setState({loaded:!0,success:!0})},n.setData=function(t){n.setState({loadData:t.target.value})},n.state={loaded:!1,success:!1,loadData:""},n}return a(e,t),i(e,[{key:"render",value:function(){var t=this;return(0,c.h)("div",{"class":"modal "+(this.props.visible&&"is-active")},(0,c.h)("div",{"class":"modal-background"}),(0,c.h)("div",{"class":"modal-card"},(0,c.h)("header",{"class":"modal-card-head"},(0,c.h)("p",{"class":"modal-card-title"},"Save"),(0,c.h)("button",{"class":"delete","aria-label":"close",onClick:this.props.close})),(0,c.h)("section",{"class":"modal-card-body"},(0,c.h)("div",{"class":"content"},(0,c.h)("p",null,"Paste your code below to load the simulation state."),(0,c.h)("div",{"class":"field has-addons"},(0,c.h)("div",{"class":"control"},(0,c.h)("input",{"class":"input",type:"text",onChange:function(e){return t.setData(e)}})),(0,c.h)("div",{"class":"control"},(0,c.h)("button",{"class":"button",onClick:this.load},(0,c.h)("span",{"class":"icon is-small"},(0,c.h)("i",{"class":"fas fa-download"}))))),this.state.loaded&&(0,c.h)("p",null,this.state.success?"Loaded":"load failed")))))}}]),e}(c.Component));t["default"]=u}),require.register("js/ui/components/save-modal/save-modal.js",function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=e("preact"),l=e("js/shared/config"),u=(o(l),function(t){function e(t){r(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.copy=function(){var t=document.createRange();t.selectNode(n.input),window.getSelection().addRange(t);try{document.execCommand("copy");n.setState({copied:!0,success:!0})}catch(e){n.setState({copied:!0,success:!1})}window.getSelection().removeAllRanges()},n.state={copied:!1,success:!1},n}return a(e,t),i(e,[{key:"render",value:function(){var t=this;return(0,c.h)("div",{"class":"modal "+(this.props.visible&&"is-active")},(0,c.h)("div",{"class":"modal-background"}),(0,c.h)("div",{"class":"modal-card"},(0,c.h)("header",{"class":"modal-card-head"},(0,c.h)("p",{"class":"modal-card-title"},"Save"),(0,c.h)("button",{"class":"delete","aria-label":"close",onClick:this.props.close})),(0,c.h)("section",{"class":"modal-card-body"},(0,c.h)("div",{"class":"content"},(0,c.h)("p",null,"Copy the code below to save the current state of the simulation."),(0,c.h)("div",{"class":"field has-addons"},(0,c.h)("div",{"class":"control"},(0,c.h)("input",{ref:function(e){return t.input=e},"class":"input",type:"text",readOnly:!0,value:this.props.saveData})),(0,c.h)("div",{"class":"control"},(0,c.h)("button",{"class":"button",onClick:this.copy},(0,c.h)("span",{"class":"icon is-small"},(0,c.h)("i",{"class":"fas fa-copy"}))))),this.state.copied&&(0,c.h)("p",null,this.state.success?"Copied":"Copy failed")))))}}]),e}(c.Component));t["default"]=u}),require.register("js/ui/components/stats/stats.js",function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=e("preact"),l=e("js/shared/config"),u=o(l),d=function(t){function e(t){r(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={simSpeeds:new Array(100).fill(u.simulationSpeed),calculatedSimSpeed:u.simulationSpeed},n}return a(e,t),i(e,[{key:"componentWillReceiveProps",value:function(t){var e=this.state.simSpeeds;e.pop(),e.unshift(t.trueSimulationSpeed);var n=e.reduce(function(t,e){return t+e},0);this.setState({simSpeeds:e,calculatedSimSpeed:n/e.length})}},{key:"render",value:function(){return(0,c.h)("div",{"class":"stats"},(0,c.h)("span",null,this.state.calculatedSimSpeed.toFixed(2),"x"))}}]),e}(c.Component);t["default"]=d}),require.alias("preact/dist/preact.js","preact"),require.register("___globals___",function(t,e,n){})}(),require("___globals___");