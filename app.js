!function(){"use strict";var t="undefined"==typeof global?self:global;if("function"!=typeof t.require){var n={},e={},i={},o={}.hasOwnProperty,r=/^\.\.?(\/|$)/,s=function(t,n){for(var e,i=[],o=(r.test(n)?t+"/"+n:n).split("/"),s=0,a=o.length;s<a;s++)e=o[s],".."===e?i.pop():"."!==e&&""!==e&&i.push(e);return i.join("/")},a=function(t){return t.split("/").slice(0,-1).join("/")},u=function(n){return function(e){var i=s(a(n),e);return t.require(i,n)}},c=function(t,n){var i=g&&g.createHot(t),o={id:t,exports:{},hot:i};return e[t]=o,n(o.exports,u(t),o),o.exports},h=function(t){return i[t]?h(i[t]):t},d=function(t,n){return h(s(a(t),n))},l=function(t,i){null==i&&(i="/");var r=h(t);if(o.call(e,r))return e[r].exports;if(o.call(n,r))return c(r,n[r]);throw new Error("Cannot find module '"+t+"' from '"+i+"'")};l.alias=function(t,n){i[n]=t};var f=/\.[^.\/]+$/,x=/\/index(\.[^\/]+)?$/,y=function(t){if(f.test(t)){var n=t.replace(f,"");o.call(i,n)&&i[n].replace(f,"")!==n+"/index"||(i[n]=t)}if(x.test(t)){var e=t.replace(x,"");o.call(i,e)||(i[e]=t)}};l.register=l.define=function(t,i){if(t&&"object"==typeof t)for(var r in t)o.call(t,r)&&l.register(r,t[r]);else n[t]=i,delete e[t],y(t)},l.list=function(){var t=[];for(var e in n)o.call(n,e)&&t.push(e);return t};var g=t._hmr&&new t._hmr(d,l,n,e);l._cache=e,l.hmr=g&&g.wrap,l.brunch=!0,t.require=l}}(),function(){"undefined"==typeof window?this:window;require.register("config.js",function(t,n,e){"use strict";var i=10,o=40,r=10,s=25,a=8,u=2e-5,c=1,h=50,d=25e3,l=1e4,f=1,x=r/i*f;e.exports={metre:i,numOfNodes:o,nominalStringLength:r,springConstant:s,internalViscousFrictionConstant:a,viscousConstant:u,simulationSpeed:c,maxStep:h,dangerForceMax:d,dangerForceMin:l,ropeWeightPerMetre:f,ropeWeightPerNode:x}}),require.register("helper.js",function(t,n,e){"use strict";function i(t,n){return n.find(function(n){return n.id===t})}function o(t,n){var e=Math.abs(t.position.x-n.position.x),i=Math.abs(t.position.y-n.position.y);return Math.sqrt(e*e+i*i)}function r(t,n){return{x:(t.position.x+n.position.x)/2,y:(t.position.y+n.position.y)/2}}function s(t,n){return Math.atan2(n.position.y-t.position.y,n.position.x-t.position.x)}function a(t,n){var e=o(t,n),i=e-u.nominalStringLength,r=s(t,n),a=Math.sin(r)*i*u.springConstant,c=Math.cos(r)*i*u.springConstant,h=Math.sqrt(a*a+(c+c));return{total:h,x:c,y:a}}var u=n("config");e.exports={getAngleFromHorizontal:s,getForce:a,getLength:o,getMidpoint:r,getNode:i}}),require.register("vector.js",function(t,n,e){"use strict";function i(t,n,e){this.x=t||0,this.y=n||0,this.z=e||0}i.prototype={load:function(t){return new i(t.x||0,t.y||0,t.z||0)},negative:function(){return new i((-this.x),(-this.y),(-this.z))},add:function(t){return t instanceof i?new i(this.x+t.x,this.y+t.y,this.z+t.z):new i(this.x+t,this.y+t,this.z+t)},subtract:function(t){return t instanceof i?new i(this.x-t.x,this.y-t.y,this.z-t.z):new i(this.x-t,this.y-t,this.z-t)},multiply:function(t){return t instanceof i?new i(this.x*t.x,this.y*t.y,this.z*t.z):new i(this.x*t,this.y*t,this.z*t)},divide:function(t){return t instanceof i?new i(this.x/t.x,this.y/t.y,this.z/t.z):new i(this.x/t,this.y/t,this.z/t)},equals:function(t){return this.x==t.x&&this.y==t.y&&this.z==t.z},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},cross:function(t){return new i(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},length:function(){return Math.sqrt(this.dot(this))},unit:function(){return this.divide(this.length())},min:function(){return Math.min(Math.min(this.x,this.y),this.z)},max:function(){return Math.max(Math.max(this.x,this.y),this.z)},toAngles:function(){return{theta:Math.atan2(this.z,this.x),phi:Math.asin(this.y/this.length())}},angleTo:function(t){return Math.acos(this.dot(t)/(this.length()*t.length()))},toArray:function(t){return[this.x,this.y,this.z].slice(0,t||3)},clone:function(){return new i(this.x,this.y,this.z)},init:function(t,n,e){return this.x=t,this.y=n,this.z=e,this}},i.negative=function(t,n){return n.x=-t.x,n.y=-t.y,n.z=-t.z,n},i.add=function(t,n,e){return e=e?e:new i,n instanceof i?(e.x=t.x+n.x,e.y=t.y+n.y,e.z=t.z+n.z):(e.x=t.x+n,e.y=t.y+n,e.z=t.z+n),e},i.subtract=function(t,n,e){return e=e?e:new i,n instanceof i?(e.x=t.x-n.x,e.y=t.y-n.y,e.z=t.z-n.z):(e.x=t.x-n,e.y=t.y-n,e.z=t.z-n),e},i.multiply=function(t,n,e){return e=e?e:new i,n instanceof i?(e.x=t.x*n.x,e.y=t.y*n.y,e.z=t.z*n.z):(e.x=t.x*n,e.y=t.y*n,e.z=t.z*n),e},i.divide=function(t,n,e){return n instanceof i?(e.x=t.x/n.x,e.y=t.y/n.y,e.z=t.z/n.z):(e.x=t.x/n,e.y=t.y/n,e.z=t.z/n),e},i.cross=function(t,n,e){return e.x=t.y*n.z-t.z*n.y,e.y=t.z*n.x-t.x*n.z,e.z=t.x*n.y-t.y*n.x,e},i.unit=function(t,n){var e=t.length();return n.x=t.x/e,n.y=t.y/e,n.z=t.z/e,n},i.fromAngles=function(t,n){return new i(Math.cos(t)*Math.cos(n),Math.sin(n),Math.sin(t)*Math.cos(n))},i.randomDirection=function(){return i.fromAngles(Math.random()*Math.PI*2,Math.asin(2*Math.random()-1))},i.min=function(t,n){return new i(Math.min(t.x,n.x),Math.min(t.y,n.y),Math.min(t.z,n.z))},i.max=function(t,n){return new i(Math.max(t.x,n.x),Math.max(t.y,n.y),Math.max(t.z,n.z))},i.lerp=function(t,n,e){return n.subtract(t).multiply(e).add(t)},i.fromArray=function(t){return new i(t[0],t[1],t[2])},i.angleBetween=function(t,n){return t.angleTo(n)},e.exports={Vector:i}}),require.register("front.js",function(t,n,e){"use strict";var i=n("helper"),o=n("config"),r=n("vector").Vector;document.addEventListener("DOMContentLoaded",function(){function t(){g.pop(),g.unshift(h);var t=g.reduce(function(t,n){return t+n},0);document.getElementById("simspeed").innerText=(t/g.length).toFixed(2)+"x"}function n(){function t(t,e){if(u.beginPath(),u.fillRect(t.position.x-1,t.position.y-1,3,3),f&&u.fillText(t.id,t.position.x+1,t.position.y),u.stroke(),n.indexOf(e.toString()+t.id.toString())<0){u.beginPath();var r=i.getNode(e,c);u.moveTo(r.position.x,r.position.y),u.lineTo(t.position.x,t.position.y),n.push(t.id.toString()+r.id.toString());var s=i.getForce(t,r);s.total>=o.dangerForceMin&&s.total<o.dangerForceMax?(normForce=(s.total-o.dangerForceMin)/(o.dangerForceMax-o.dangerForceMin),color=255*normForce,u.strokeStyle="rgb("+color.toFixed(0)+", 0, 0)"):s.total>=o.dangerForceMax?u.strokeStyle="rgb(255, 0, 0)":u.strokeStyle="rgb(0,0,0)",u.stroke()}}u.strokeStyle="rgb(0,0,0)",u.clearRect(0,0,a.width,a.height),u.beginPath(),u.moveTo(10,50),u.lineTo(10,50+10*o.metre),u.fillText("10m",11,50+10*o.metre/2),u.stroke();var n=[];c.forEach(function(n){n.connectedNodes.length<=0&&(u.beginPath(),u.fillRect(n.position.x-1,n.position.y-1,3,3),f&&u.fillText(n.id,n.position.x+1,n.position.y),u.stroke()),n.connectedNodes.forEach(t.bind(this,n))})}function e(){function t(t,e){if(parseInt(document.getElementById("to").value)===e){n=!0;var o=i.getNode(e,c),r=i.getForce(t,o);document.getElementById("result").innerText=r.total.toFixed(3)+"N"}}var n=!1;c.forEach(function(n){parseInt(document.getElementById("from").value)===n.id&&n.connectedNodes.forEach(t.bind(this,n))}),n||(document.getElementById("result").innerText="Not connected")}function s(t){x&&d.postMessage(["move",{selectedNode:x,mousePosition:y}]),d.postMessage("send"),requestAnimationFrame(s)}var a=document.getElementById("canvas"),u=a.getContext("2d"),c=[],h=0,d=new Worker("worker.js");d.onmessage=function(i){c=i.data.nodes,h=i.data.trueSimulationSpeed,n(),e(),t()},d.postMessage("init"),document.getElementById("start").addEventListener("click",function(){l=!1,d.postMessage("run")});var l=!1;document.getElementById("stop").addEventListener("click",function(){l=!0,d.postMessage("pause")});var f=!0;document.getElementById("show-ids").addEventListener("click",function(){f=document.getElementById("show-ids").checked}),document.getElementById("load").addEventListener("click",function(){var t=document.getElementById("load-data").value;d.postMessage(["load",t])}),document.getElementById("save").addEventListener("click",function(){document.getElementById("save-data").value=btoa(JSON.stringify(c))});var x,y;a.addEventListener("mousedown",function(t){for(var n,e=a.getBoundingClientRect(),i={x:t.clientX-e.left,y:t.clientY-e.top},o=new r(i.x,i.y),s=20,u=0;u<c.length;u++){c[u].position=(new r).load(c[u].position);var h=c[u].position.subtract(o).length();(!s||h<s)&&(n=c[u],s=h)}y=o,n?x=n:d.postMessage(["newnode",{mousePosition:y}])},!0),a.addEventListener("mousemove",function(t){if(x){var n=a.getBoundingClientRect(),e={x:t.clientX-n.left,y:t.clientY-n.top};y=new r(e.x,e.y)}},!0),a.addEventListener("mouseup",function(t){x&&(d.postMessage(["nomove",{selectedNode:x}]),x=void 0)},!0);var g=new Array(100);g.fill(o.simulationSpeed),requestAnimationFrame(s),d.postMessage("run")})}),require.register("___globals___",function(t,n,e){})}(),require("___globals___");